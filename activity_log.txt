Colditz Escape - Activity Log

[MAIN]
-M OSX audio support [DONE]
-m XBox 360 OSX Controller support [DONE]
-M FreeGLUT OSX Joystick support [DONE]
-M (soundless) OSX support [DONE]
-M drop Expat and use an INI file [DONE]
-M Switch to FreeGLUT on Windows and Linux [DONE]
-M Abstract the audio subsystems [DONE]
-m drop intro video and video playout
-M Linux support [DONE]
-m Xbox 360 Controller support [DONE]
-m Fix some longstanding bugs
-M overlay depth [DONE]
-m walking on tunnel exits [DONE]
-M timer [DONE]
-M animated sprites [DONE]
-m walk/run [DONE]
-m inventory [DONE]
-m object pickup/dropdown [DONE]
-M panel sprites [DONE]
-m change LOADER base to zero [DONE]
-m panel messages [DONE]
-m key mappings [DONE]
-M panel [DONE]
-m room/item descriptions [DONE]
-M doors opening [DONE]
-M switching between prisoners [DONE]
-M guard patrols [DONE]
-m guard collisions [DONE]
-m clock [DONE]
-m timed events (rollcall, etc) [DONE]
   ROM:00007A4A update_status
   - palette change [DONE]
   - display of images [DONE]
   - specific event conditions (rollcall, confined to quarters, ...) [DONE]
-M display IFF images [DONE]
-m fading on IFF screens [DONE]
-M tunnels & tunnel motion [DONE]
-M tunnels opening/exit [DONE]
-m switching of uniforms [DONE]
-m fatigue bar [DONE]
-m initial positions [DONE]
-M guard events (pursuit, shooting, pass, send to jail) [DONE]
   ROM:00006E6A update_guards_pos:
   ROM:000020EE authorized_base2
   ROM:0000210E check_authorised_access:
-m guards check collision [DONE]
-M prison & prison release [DONE]
-m ensure solitary doors are closed after capture [DONE]
-m flag pursuit if prisoner escaped from solitary at time of release [DONE]
-m fatigue handling [DONE]
   - add $1000 to fatigue every hour [DONE]
   - 1 walk, 4 run, 0x28 crawl [DONE]
   - decrement (by 2) when sleeping [DONE]
   ROM:0000527A key_walk_run
   ROM:00001D0E fatigue
-M MOD playout [DONE]
-M soundfx playout [DONE]
   ROM:0000C968 play_sound
-m ppunpack LOADTUNE [DONE]
-m escape/win_game/game_over events [DONE]
-m intro/exit [DONE]
-m restart/reinit variables [DONE]
   ROM:0000762A init_vars:
-m kneeling animations when using props (changing uniform, opening tunnels) [DONE]
-M additional key handling (stooge, sleep, stone)
   - sleep [DONE]
   - stone [DONE]
   - stooge [DONE]
   ROM:000023B2 check_conditions:
   ROM:000029CC various actions on fire
   ROM:0000210E check_authorised_access:
[MAIN GAME FUNCTIONS - COMPLETED 2009.06.24 22:52:21]

[EXTRAS]
-m clean exit from program on errors (free all buffers) [DONE 2009.07.31 19:16:10]
-m fix open tunnel next to the chapel [DONE]
-m call display iff with timeout on static pictures [ORG] [DONE]
-m freeze & fade of game screen before static pic [ORG] [DONE]
-m doors closing [ORG] [DROPPED: NOT WORTH IT]
-m timeout on picture if no fire [ORG] [DONE]
-m have guards wait for a while if chase was just lost [ORG] [DONE]
-m add a small delay before shooting [DONE]
-m 4 way split pause screen [ORG] [DONE]
-m display "paused" [DROPPED: UNNECESSARY]
-m fade in/out on pause [DONE 2009.07.06 16:46:22]
-m no scroll when approaching map borders [ORG]
-m go through pause screen on game over [ORG]
-M onscreen STDOUT on PSP [DONE]
-M Enhanced guard handling [DONE]
-m display of RGB RAW images for additional credits [DONE]
-m aperture software intro (Trebuchet MS) [DO]
   intro MOD [DONE]
   intro overlay [DONE]
   overlay animation [DO...H! too slow on PSP. Alright, change of plans:
-M Cutscene playout
   PSP: PMP/H264 [DONE]
   PC: AVI/DivX [DONE]
   CutScene [DONE]
   Improve CutScene
-m linear interpolation on rescale_buffer for Windows [DONE]
-M!!! XML config file [DONE]
   libexpat [DONE]
   utf8 to utf16 [DONE 2009.07.09 18:43:27]
   conf to var/eschew [DONE 2009.07.21 20:28:16 (Boy did that take forever!!!)]
-m user modifiable keymappings [DONE 2009.07.21 20:28:51]
-m choice of linear/nearest through config [DONE 2009.07.22 18:21:24]
-m picture frame corners [DONE]
-m different corners according to palette? [DROPPED: NOT WORTH IT]
-m md5 sum on data files to prevent modification [DONE]
-m anti tampering checks [DONE]
-m executable encryption on psp [DROPPED - not worth it - will use record facility instead to check tampering]
-m EBOOT icon [DONE]
-m remove debug info on psp (-g?) [DONE: -Xlinker -S -Xlinker -x]
-m cheat code sequences (series of readkeyonce) [DONE]
-m set current_picture in static_screen() and remove the manual sets [DONE]
-m better pause handling [DONE]
-m add some background to prevent empty window during start or when transitionning from video [DONE]
-m move all the raws (panel, picture corners) into a single file? [DROPPED: NOT WORTH IT]
-m restore run/walk on tunnel exits [DROPPED: NOT ORG]
-m indicate the type of tool needed for tunnels [DROPPED: NOT ORG]
-m fullscreen on PC [DONE 2009.07.22 18:28:48]
-m additional/better SFXs [NO PLAN FOR THIS YET]
-m cleanup the code! [DONE]
-m check our gameplay vs original [OK]
-m write some game notes [DONE]
-m improve on guards & passchecks (leave the prisoner alone for some time) [DONE]
-m update the controls screen for PSP [DONE 2009.08.01 01:29:36]
-m blocked guard doesn't shoot - should he? [DONE]
-m chase right after handing a pass - add a delay [DONE]
-m add a new delay for reinstantiation if we were onscreen [DONE 2009.06.25 13:02:36]
-m what happens when max fatigue in a tunnel => nothing [DONE]
-m blocked guards should face the opposite way of the obstacle [DONE 2009.06.27 02:13:32]
-m use #pragma once in all our files [DONE]
-m use #pragma for all the Windows libs [DONE]
-m move the pragma for obsolete MS crap warnings outside the source [DONE]
-m return to Intro screen from menu
-m would be nice to stop our guy before fading the screen on pause, as he is stopped within [DONE 2009.07.22 16:13:54]
-m set up and display a winning URL [DROPPED - NOT WORTH IT]
-m fix the incomprehensible x/y offsets that exist all over the place [DROPPED: WHO CARES?]
-m change error exits on PSP so that exit() is never called (crashes system) [DONE 2009.07.31 19:11:59]
-m change default controls on PSP - use triggers for item cycle [DONE 2009.08.07 12:23:49]
-m record feature (anti tampering) [DONE, then DROPPED - NOT WORTH IT]
-m encryption on recording [DROPPED along with recording]
-m sort out licensing / headers / publish licenses [DONE]
-m guard numbers display for debug/tracking [DONE 2009.07.28 15:46:18]
-m exit display for debug/tracking [DONE 2009.07.29 18:50:07]
-m wait for onscreen printf to be acknowledged before exiting on error, on PSP [DONE 2009.07.31 19:11:44]
-m Sanity checks: Test on mutliple platforms [DONE]
-m Sanity checks: Test missing file errors on PSP & PC [DONE]
-m Sanity checks: Test using the various ADF files from the net [DONE]
-m Ask for confirmation on exit [DONE through menu exit]
-m Compare our timers durations vs ORG [DONE]
-m triggers to go back and forth intro screens? Pause in intro?
-m move panel and add surrounding black lines for better picture corner effect [DONE, but not very aestethic, so DROPPED]
-m quit/restart menu [DONE 2009.08.11 00:14:28]
-m toggle recording from menu [DONE 2009.08.11 00:15:19 then DROPPED 2009.08.13 01:53:07] 
-m actual cheatcodes [DONE]
-m better thrillerdance [DONE]
-m ghost mode [DROPPED: NOT WORTH IT]
-m write feature for Eschew [DONE 2009.08.03 20:54:35]
-m comment creation/preservation in Eschew [DONE]
-M save/load [DONE 2009.08.12 23:38:41]
-m independant Eschew + samples [DONE 2009.08.06 22:33:48]
-m shower use [DROPPED: NOT ORG]
-m video resize [DROPPED: NOT WORTH IT]
-m stethoscope use (+ safe = cake?)
-m fix the compressed map for better removable walls (hide section left of courtyard) 
   => would require a map editor [NO PLANS FOR THIS YET]
-m move Eschew notes into a readme and Eschew files into a separate dir [DONE]
-m change palette tone of corners to match the feel of the intro screens
-m Flush record on PSP exit [DONE 2009.08.07 12:39:26]
-m relayout the PSP control screen [DONE 2009.08.10 11:08:57]
-m remove "more than one second message" from timer from final [DONE 2009.08.12 23:43:30]
-m remove debug from final [DROPPED, no longer needed]
-m save total game_time before closing record [DROPPED with record feature]
-m display total game time on completion
-m drop save/load feature and set a hard difficulty mode to mimic original [DONE 2009.08.13 01:52:10]
-m add a small aperture software blurb at the bottom of menus [DONE]
-m looping SFXs [DONE 2009.08.14 01:05:49]
-m light in tunnels [DONE 2009.08.15 00:54:56]
-m can only change uniform with rifle [DROPPED: too few rifles => impractical]
-m can shoot guards with rifle?
-m provide the rgb4 source [DROPPED: will do on request]
-M add hq2x for magnification on PC (http://web.archive.org/web/20070624082212/www.hiend3d.com/hq2x.html) [DONE 2009.11.23 01:04:53]
-m make "chicken-enhanced" the default game version [DONE]
-m better compilation error reports for GLSL shaders [DONE 2009.11.23 11:08:23]
-m recenter options menu [DONE 2009.11.23 11:09:04]
SANITY CHECKS:
-m provide a debug FPS so that we can find out if we're slow. [DONE 2009.08.16 19:22:30]
-m provide windows controls![DONE]

[BUGFIXES]
- fix the props offsets [FIXED]
- facing front when kneeling [FIXED]
- badtunnel exits on compressed [FIXED]
- prevent standing in tunnels [FIXED]
- pressing space during pickup results in a running/walking guy that can no longer move (and disables all keys) [FIXED]
- reduce increased CPU usage!!! [FIXED] 
- doors consume keys but do not open? [FIXED]
- correct the last 2 sprites for shot_ani so that we don't have to use a workaround [FIXED]
- the mysterious prisoner shower-flash incident [AUTOFIXED?]
- broken sound on PSP [FIXED]
- playing mods after static_screen crashes the game! [FIXED - PFEW!!!!]
- prisoner can be caught while dying from shotwound [FIXED]
- prisoner can be shot after having successfully handed a pass [FIXED]
- psp crashes if it can't load game over tune [must be an exit() somewhere - AUTOFIXED]
- zombie prisonners on restart (reset animations?) [FIXED]
- reload OBS, LOADER, CMP and CRM on reinit (reset doors, props, etc.) [FIXED]      
- crash (access violation) on fire pressed when game over and game fade out (WIN32 & PSP). [FIXED]  
- accelerated motion on newgame [FIXED]
- recenter GAME OVER [FIXED]
- doors with no animation no longer open [FIXED]
- pressing start results in a crash on PSP [FIXED]
- bad fade on PSP [FIXED]
- succession of static screens is now broken [FIXED]
- 4 way split screen doesn't work on PSP [FIXED]
- the usual timer catchup after pause [FIXED]
- room 116's exits are not properly patched [FIXED 2009.06.25 12:43:36]
- guards disappearing after catchup [FIXED]
- tunnel exit masks are still not good enough/hard to get out of a tunnel [AUTOFIXED]
- onscreen stdout on PSP results in black screen when intro is deactivated [FIXED]
- onscreen stdout on PSP can fail if there are too many messages [AUTOFIXED]
- add an x_offset to props so that they respect the ORG position [DONE]
- grass shows on extreme right handside of courtyard => recenter [MEH]
- slow section outside the first gate on PSP [FIXED]
- better handling of exit from blocked state [FIXED]
- screensaver mode switches on even if analog is in use on PSP [FIXED]
- the usual GL is showing something white when it shouldn't between game_won and return to intro [FIXED 2009.07.22 17:49:52]
- following a fooled guard results in superfast animation / guards go through prisoners [FIXED 2009.06.27 21:50:08]
- blocked guards do not reset properly on resume_route [FIXED 2009.06.27 01:44:00]
- props disappear after a pause [FIXED 2009.06.27 00:27:32]
- sometimes guards get close by but fail to intercept [NORMAL BEHAVIOUR]
- guards should stop aiming after a succesfull pass handling [FIXED]
- a prisoner flagged to_pursue by a non fooled guard will not be pursued by fooled ones (if wearing german uni) - should they? [NO]
- guards can be superblocking after a request for pass - gimme some space man!
- guards still seem to miss pursuit launch [FIXED]
- escaped from prison and fooled_by - should we reset? [NO]
- re-slowdown when indoors on PC [AUTOFIXED]
- bad fooled_by sprite on PSP [FIXED 2009.06.27 03:13:30]
- sound can occur when pausing because of display_room() reuse [NEVERFIX (or mute)]
- motionless guards do not pursue [FIXED]
- bad stuff happens for pursuing guards when switching room [FIXED 2009.06.27 21:32:31]
- I've still seen guards completely out of their routes [AUTOFIXED]
- Lower left split flashes when pausing on PSP [FIXED 2009.07.22 14:22:40]
- borders don't fade when pausing on PSP [FIXED 2009.07.22 14:22:34]
- cycling through RLUD ULRU sometimes results in walking animation [FIXED 2009.07.31 12:08:05]
  	prisoner_reset_ani from restore_params() wrecked havoc in add_guybrushes()
- exiting the game crashes the PSP again! [FIXED]
- flashing static screens all over the place (after intro exit for instance) [FIXED]
- exit from chapel to room EE produces integrity check failure [FIXED 2009.07.29 11:53:05]
- PSP doesn't seem to wait for blank when switching from intro video
- Failure to load controls IFF results in chase RECORD outputs?!? [AVERTED 2009.08.01 01:12:06]
- onscreen printouts before intro makes PSP freeze on intro [FIXED 2009.08.07 14:25:28]
- record still doesn't record anything when exiting with start on PSP! [AUTOFIXED: record feature dropped]
- localtime() sure doesn't return the local time on PSP [SDK BUG WORKAROUND 2009.08.13 12:58:06]
- try recompile with more recent version of pspGL (and see the game slow down!) [YUP, as expected. fixed some notes about that]
- crash if exit on game over (free of something while fade!) [FIXED 2009.08.16 01:15:46 (mod_free issue)]
- some guards get fuzzy on thrillerdance [NOT A BUG: Happens because 2 guards are close!]
- prisoner can move while changing! [FIXED]
- can consume 2 keys if pressing fire twice when opening a door!! [FIXED 2009.11.23 02:18:06]
- the mysterious prisoner guard flash incident with a vengeance - dammit!
SANITY CHECK RESULTS:
- bad init pos [FIXED 2009.08.16 21:20:28]
- bad offset on props [FIXED 2009.08.16 21:20:33]
- palette change on first courtyard call doesn't occur [THIS IS A BUG FROM THE ORIGINAL!!]
- SLOW on older machines [FIXED: Update DirectX!]
- SLOW at 24 Hz (likely glut refresh) [NORMAL]
- Does the guard footstep sound differ from the prisoner one? [sounds like it, but jeez... NEVERFIX]
- On Screen Debug no longer displays [FIXED 2009.08.16 14:52:07 (don't use char[] when you can use char*!)]

